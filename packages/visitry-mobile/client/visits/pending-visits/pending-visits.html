<ion-view view-title="Pending Visits">
  <ion-nav-buttons side="secondary" class="show">
    <button class="button button-clear icon ion-plus-circled" ng-click="pendingVisits.showRequestVisitModal()">
    </button>
  </ion-nav-buttons>
  <ion-content class="has-header">
    <ion-list show-delete="pendingVisits.showDelete" can-swipe="pendingVisits.canSwipe">
      <div ng-repeat="dateVisits in pendingVisits.pendingVisits">
        <div class="item item-divider">
          {{dateVisits.date|date:'longDate'}}
        </div>
        <ion-item ng-repeat="visit in dateVisits.visits" class="item-avatar">
          <img ng-src="{{visit.visitorImg}}">
          <div layout="row">
            <h2 ng-if="!visit.visitorId">Pending... </h2>

            <h2 ng-if="visit.visitorId">{{pendingVisits.getUserFirstName(visit.visitorId)}}</h2>
            <span flex></span>
            <p>{{visit.location.name}}</p>
          </div>
          <p>{{visit.notes}}</p>
          <ion-option-button class="button-assertive" ng-click="pendingVisits.showCancelVisitConfirm(visit)">
            Delete
          </ion-option-button>
          <ion-delete-button>
          </ion-delete-button>
        </ion-item>
      </div>
    </ion-list>
  </ion-content>
</ion-view>