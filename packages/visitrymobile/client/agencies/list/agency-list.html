<ion-view title="Groups">
    <ion-content class="has-header hide-tabs">
        <ion-list can-swipe="agencies.canSwipe">
            <div ng-repeat="agency in agencies.agencies">
            <ion-item>
                <a ng-click="agencies.agencyDetail(agency._id)">
                    <h2>
                        <i class="ion-checkmark-circled" ng-if="!agencies.isNotMember(agency._id)"
                           ng-class="{calm: agencies.isMember(agency._id), energized:agencies.isPendingMember(agency._id)}" ></i>
                        {{agency.name}}{{agencies.membershipStatus}}
                    </h2>
                    <div class="item-text-wrap"><h3>{{agency.description}}</h3></div>
                </a>
                <a ng-href="{{agency.website}}">{{agency.website}}</a>
                <p>{{agency.location.formattedAddress}}</p>
                <ion-option-button class="button-positive" ng-click="agencies.agencyDetail(agency._id)">
                    Details
                </ion-option-button>
            </ion-item>
            </div>
        </ion-list>
    </ion-content>
</ion-view>