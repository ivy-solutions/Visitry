/**
* Created by sarahcoletti on 3/2/16.
*/
<ion-view view-title="{{agencyDetails.agency.name}}" hide-back-button=false hide-tabs>
    <ion-content padding="true" scroll="true" class="has-footer">
        <div layout="column">
            <div layout="row">
                 <div ng-if="agencyDetails.agency.logo">
                    <div layout-align="center center">
                        <div><img ng-src="{{agencyDetails.agency.logo}}"/></div>
                    </div>
                </div>
                <div layout="column" layout-align="space-around start" layout-fill>
                    <h5 ng-if="agencyDetails.isPendingMember()">
                        <i class="ion-checkmark-circled energized"></i>
                        <span> Application submitted: {{agencyDetails.enrollment.applicationDate | date: 'shortDate'}}</span>
                    </h5>
                    <h5 ng-if="agencyDetails.isMember()">
                        <i class="ion-checkmark-circled calm"></i>
                        Member since: {{agencyDetails.enrollment.approvalDate | date: 'shortDate' }}
                    </h5>
                    <h3> {{agencyDetails.agency.name}}</h3>
                    <h4 class="item-text-wrap">{{agencyDetails.agency.location.address}}</h4>
                </div>
            </div>
            <div layout="column">
                <div class="button-bar button-block bar-light">
                    <button class="button"
                            ng-click="agencyDetails.browseToWebsite()"
                            ng-if="agencyDetails.agency.website"
                    ><i class="ion-earth"></i> Website
                    </button>
                    <button class="button"
                            ng-click="agencyDetails.dialContact()"
                            ng-if="agencyDetails.agency.contactPhone"
                    ><i class="ion-ios-telephone"></i> Call
                    </button>
                    <button class="button"
                            ng-click="agencyDetails.sendMail()"
                            ng-if="agencyDetails.agency.contactEmail"
                    ><i class="ion-ios-email"></i> Email
                    </button>
                </div>
            </div>
            <div layout="row">
                <div layout="column">
                    <h4>Description</h4>
                    <div class="item-text-wrap">
                        {{agencyDetails.agency.description}}
                    </div>
                </div>
            </div>
            <div layout="column">
                <div class="button-bar button-balanced">
                    <button class="button button-full button-clear"
                            ng-if="agencyDetails.canRequestMembership()"
                            ng-click="agencyDetails.requestMembership()">
                        <span class="balanced">{{agencyDetails.isPendingMember() ? "Resend Join Request": "Request Membership"}}</span>
                    </button>
                    <button class="button button-full button-clear"
                            ng-if="agencyDetails.isPendingMember()"
                            ng-click="agencyDetails.revokeRequest()">
                        <span class="assertive">Remove Request</span>
                    </button>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
