/**
* Created by sarahcoletti on 3/2/16.
*/
<ion-view view-title="{{agencyDetails.agency.name}}" hide-back-button=false hide-tabs>
    <ion-content padding="true" scroll="true" class="has-footer">
        <div layout="column">
            <div layout="row">
                 <div ng-if="agencyDetails.agency.logo">
                    <div layout-align="center center">
                        <div><img ng-src="{{agencyDetails.agency.logo}}"/></div>
                    </div>
                </div>
                <div layout="column" flex="55" layout-align="space-around start" layout-fill>
                    <h4> {{agencyDetails.agency.name}}</h4>
                    <p ng-show="agencyDetails.isMember()" class="positive">Member</p>
                    <p ng-show="agencyDetails.isPendingMember()" class="energized">Application Pending</p>
                    <h5 class="item-text-wrap">{{agencyDetails.agency.location.address}}</h5>
                </div>
            </div>
            <div layout="column">
                <div class="button-bar button-block bar-light">
                    <button class="button"
                            ng-href="{{agencyDetails.agency.website}}"
                            ng-if="agencyDetails.agency.website"
                    ><i class="ion-earth"></i> Website
                    </button>
                    <button class="button"
                            ng-click="agencyDetails.agency.dialContact()"
                            ng-if="agencyDetails.agency.contactPhone"
                    ><i class="ion-ios-telephone"></i> Call
                    </button>
                    <button class="button"
                            ng-click="agencyDetails.agency.sendMail()"
                            ng-if="agencyDetails.agency.contactEmail"
                    ><i class="ion-ios-email"></i> Email
                    </button>
                </div>
            </div>
            <div layout="row">
                <div layout="column">
                    <h4>Description</h4>
                    <div class="item-text-wrap">
                        {{agencyDetails.agency.description}}
                    </div>
                </div>
            </div>
            <div layout="column">
                <div class="button-bar button-balanced">
                    <button class="button button-full button-clear"
                            ng-if="agencyDetails.canRequestMembership()"
                            ng-click="agencyDetails.requestMembership()">
                        <span class="balanced">{{agencyDetails.isPendingMember() ? "Resend Join Request": "Request Membership"}}</span>
                    </button>
                    <button class="button button-full button-clear"
                            ng-if="agencyDetails.isPendingMember()"
                            ng-click="agencyDetails.revokeRequest()">
                        <span class="assertive">Remove Request</span>
                    </button>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>
