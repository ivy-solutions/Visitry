<ion-modal-view ng-controller="editRegistrationCtrl as editRegistration">
    <ion-header-bar>
        <div class="buttons" side="primary">
            <button class="button button-clear button-balanced" ng-click="editRegistration.cancel()">Cancel</button>
        </div>
        <h1 class="title">Edit Name</h1>
        <div class="buttons" side="secondary" ng-click="editRegistration.submit()">
            <button class="button button-clear button-balanced">Submit</button>
        </div>
    </ion-header-bar>
    <ion-content>

    <form name="registrationForm">
        <div class="list">
            <label class="item item-input">
                <span class="input-label">First Name</span>
                <input ng-model="editRegistration.registrationInfo.userData.firstName" name="firstName" type="text" required autocomplete="off" autocorrect="off"/>
            </label>
            <div layout="row" ng-show="registrationForm.firstName.$error && (registrationForm.firstName.$touched || registrationForm.$submitted)" ng-messages="registrationForm.firstName.$error">
                <span flex></span>
                <span class="error-message" ng-messages-include="error-list.html"></span>
            </div>
            <label class="item item-input">
                <span class="input-label">Last Name</span>
                <input ng-model="editRegistration.registrationInfo.userData.lastName" name="lastName" type="text" required autocomplete="off" autocorrect="off"/>
            </label>
            <div layout="row" ng-show="registrationForm.lastName.$error && (registrationForm.lastName.$touched || registrationForm.$submitted)" ng-messages="registrationForm.lastName.$error">
                <span flex></span>
                <span class="error-message" ng-messages-include="error-list.html"></span>
            </div>
            <label class="item item-input">
                <span class="input-label">Email</span>
                <input ng-model="editRegistration.registrationInfo.email" name="email" type="text" required ng-minlength="5" ng-pattern="/^.+@.+\..+$/"
                       autocorrect="off" autocapitalize="off"/>
            </label>
            <div layout="row" ng-show="registrationForm.email.$error && (registrationForm.email.$touched || registrationForm.$submitted)" ng-messages="registrationForm.email.$error">
                <span flex></span>
                <span class="error-message" ng-messages-include="error-list.html"></span>
            </div>
            <label class="item item-input">
                <span class="input-label">Username</span>
                <input ng-model="editRegistration.registrationInfo.username" name="username" type="text" autocomplete="off" autocorrect="off"/>
            </label>
            <div layout="row" ng-show="registrationForm.username.$error && (registrationForm.username.$touched || registrationForm.$submitted)" ng-messages="registrationForm.username.$error">
                <span flex></span>
                <span class="error-message" ng-messages-include="error-list.html"></span>
            </div>
        </div>
    </form>
    </ion-content>
</ion-modal-view>

<script id="error-list.html" type="text/ng-template">
    <div class="error-message" ng-message="pattern">
        This field is must be a valid e-mail address.
    </div>
    <div class="error-message" ng-message="required">
        This field is required.
    </div>
</script>